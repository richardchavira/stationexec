//@nolint
// https://d3js.org v5.9.4 Copyright 2019 Mike Bostock
// Extracted only functions necessary to this project

var version="5.9.4",pi$2=Math.PI,tau$2=2*pi$2,epsilon$1=1e-6,tauEpsilon=tau$2-epsilon$1,abs$1=Math.abs,atan2$1=Math.atan2,cos$2=Math.cos,max$2=Math.max,min$1=Math.min,sin$2=Math.sin,sqrt$2=Math.sqrt,epsilon$3=1e-12,pi$4=Math.PI,halfPi$3=pi$4/2,tau$4=2*pi$4;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant$b(t){return function(){return t}}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function d3_arc(){var z=arcInnerRadius,O=arcOuterRadius,Z=constant$b(0),Q=null,j=arcStartAngle,D=arcEndAngle,F=arcPadAngle,G=null;function n(){var t,n,i=+z.apply(this,arguments),s=+O.apply(this,arguments),e=j.apply(this,arguments)-halfPi$3,a=D.apply(this,arguments)-halfPi$3,o=abs$1(a-e),c=e<a;if(G||(G=t=path()),s<i&&(n=s,s=i,i=n),epsilon$3<s)if(tau$4-epsilon$3<o)G.moveTo(s*cos$2(e),s*sin$2(e)),G.arc(0,0,s,e,a,!c),epsilon$3<i&&(G.moveTo(i*cos$2(a),i*sin$2(a)),G.arc(0,0,i,a,e,c));else{var r,h,u=e,l=a,_=e,$=a,p=o,f=o,y=F.apply(this,arguments)/2,x=epsilon$3<y&&(Q?+Q.apply(this,arguments):sqrt$2(i*i+s*s)),d=min$1(abs$1(s-i)/2,+Z.apply(this,arguments)),v=d,g=d;if(epsilon$3<x){var b=asin$1(x/i*sin$2(y)),M=asin$1(x/s*sin$2(y));(p-=2*b)>epsilon$3?(_+=b*=c?1:-1,$-=b):(p=0,_=$=(e+a)/2),(f-=2*M)>epsilon$3?(u+=M*=c?1:-1,l-=M):(f=0,u=l=(e+a)/2)}var T=s*cos$2(u),m=s*sin$2(u),A=i*cos$2($),P=i*sin$2($);if(epsilon$3<d){var E,w=s*cos$2(l),R=s*sin$2(l),q=i*cos$2(_),L=i*sin$2(_);if(o<pi$4&&(E=intersect(T,m,q,L,w,R,A,P))){var S=T-E[0],N=m-E[1],B=w-E[0],C=R-E[1],I=1/sin$2(acos$1((S*B+N*C)/(sqrt$2(S*S+N*N)*sqrt$2(B*B+C*C)))/2),k=sqrt$2(E[0]*E[0]+E[1]*E[1]);v=min$1(d,(i-k)/(I-1)),g=min$1(d,(s-k)/(1+I))}}epsilon$3<f?epsilon$3<g?(r=cornerTangents(q,L,T,m,s,g,c),h=cornerTangents(w,R,A,P,s,g,c),G.moveTo(r.cx+r.x01,r.cy+r.y01),g<d?G.arc(r.cx,r.cy,g,atan2$1(r.y01,r.x01),atan2$1(h.y01,h.x01),!c):(G.arc(r.cx,r.cy,g,atan2$1(r.y01,r.x01),atan2$1(r.y11,r.x11),!c),G.arc(0,0,s,atan2$1(r.cy+r.y11,r.cx+r.x11),atan2$1(h.cy+h.y11,h.cx+h.x11),!c),G.arc(h.cx,h.cy,g,atan2$1(h.y11,h.x11),atan2$1(h.y01,h.x01),!c))):(G.moveTo(T,m),G.arc(0,0,s,u,l,!c)):G.moveTo(T,m),epsilon$3<i&&epsilon$3<p?epsilon$3<v?(r=cornerTangents(A,P,w,R,i,-v,c),h=cornerTangents(T,m,q,L,i,-v,c),G.lineTo(r.cx+r.x01,r.cy+r.y01),v<d?G.arc(r.cx,r.cy,v,atan2$1(r.y01,r.x01),atan2$1(h.y01,h.x01),!c):(G.arc(r.cx,r.cy,v,atan2$1(r.y01,r.x01),atan2$1(r.y11,r.x11),!c),G.arc(0,0,i,atan2$1(r.cy+r.y11,r.cx+r.x11),atan2$1(h.cy+h.y11,h.cx+h.x11),c),G.arc(h.cx,h.cy,v,atan2$1(h.y11,h.x11),atan2$1(h.y01,h.x01),!c))):G.arc(0,0,i,$,_,c):G.lineTo(A,P)}else G.moveTo(0,0);if(G.closePath(),t)return G=null,t+""||null}return n.centroid=function(){var t=(+z.apply(this,arguments)+ +O.apply(this,arguments))/2,n=(+j.apply(this,arguments)+ +D.apply(this,arguments))/2-pi$4/2;return[cos$2(n)*t,sin$2(n)*t]},n.innerRadius=function(t){return arguments.length?(z="function"==typeof t?t:constant$b(+t),n):z},n.outerRadius=function(t){return arguments.length?(O="function"==typeof t?t:constant$b(+t),n):O},n.cornerRadius=function(t){return arguments.length?(Z="function"==typeof t?t:constant$b(+t),n):Z},n.padRadius=function(t){return arguments.length?(Q=null==t?null:"function"==typeof t?t:constant$b(+t),n):Q},n.startAngle=function(t){return arguments.length?(j="function"==typeof t?t:constant$b(+t),n):j},n.endAngle=function(t){return arguments.length?(D="function"==typeof t?t:constant$b(+t),n):D},n.padAngle=function(t){return arguments.length?(F="function"==typeof t?t:constant$b(+t),n):F},n.context=function(t){return arguments.length?(G=null==t?null:t,n):G},n}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,i,s){this._+="Q"+ +t+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},bezierCurveTo:function(t,n,i,s,e,a){this._+="C"+ +t+","+ +n+","+ +i+","+ +s+","+(this._x1=+e)+","+(this._y1=+a)},arcTo:function(t,n,i,s,e){t=+t,n=+n,i=+i,s=+s,e=+e;var a=this._x1,o=this._y1,c=i-t,r=s-n,h=a-t,u=o-n,l=h*h+u*u;if(e<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(epsilon$1<l)if(Math.abs(u*c-r*h)>epsilon$1&&e){var _=i-a,$=s-o,p=c*c+r*r,f=_*_+$*$,y=Math.sqrt(p),x=Math.sqrt(l),d=e*Math.tan((pi$2-Math.acos((p+l-f)/(2*y*x)))/2),v=d/x,g=d/y;Math.abs(v-1)>epsilon$1&&(this._+="L"+(t+v*h)+","+(n+v*u)),this._+="A"+e+","+e+",0,0,"+ +(h*$<u*_)+","+(this._x1=t+g*c)+","+(this._y1=n+g*r)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,i,s,e,a){t=+t,n=+n;var o=(i=+i)*Math.cos(s),c=i*Math.sin(s),r=t+o,h=n+c,u=1^a,l=a?s-e:e-s;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+r+","+h:(Math.abs(this._x1-r)>epsilon$1||Math.abs(this._y1-h)>epsilon$1)&&(this._+="L"+r+","+h),i&&(l<0&&(l=l%tau$2+tau$2),tauEpsilon<l?this._+="A"+i+","+i+",0,1,"+u+","+(t-o)+","+(n-c)+"A"+i+","+i+",0,1,"+u+","+(this._x1=r)+","+(this._y1=h):epsilon$1<l&&(this._+="A"+i+","+i+",0,"+ +(pi$2<=l)+","+u+","+(this._x1=t+i*Math.cos(e))+","+(this._y1=n+i*Math.sin(e))))},rect:function(t,n,i,s){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +i+"v"+ +s+"h"+-i+"Z"},toString:function(){return this._}};var d3_curveBasis=basis$2;function x$3(t){return t[0]}function y$3(t){return t[1]}function point$2(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function Basis(t){this._context=t}function basis$2(t){return new Basis(t)}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function d3_line(){var o=x$3,c=y$3,r=constant$b(!0),h=null,u=curveLinear,l=null;function n(t){var n,i,s,e=t.length,a=!1;for(null==h&&(l=u(s=path())),n=0;n<=e;++n)!(n<e&&r(i=t[n],n,t))===a&&((a=!a)?l.lineStart():l.lineEnd()),a&&l.point(+o(i,n,t),+c(i,n,t));if(s)return l=null,s+""||null}return n.x=function(t){return arguments.length?(o="function"==typeof t?t:constant$b(+t),n):o},n.y=function(t){return arguments.length?(c="function"==typeof t?t:constant$b(+t),n):c},n.defined=function(t){return arguments.length?(r="function"==typeof t?t:constant$b(!!t),n):r},n.curve=function(t){return arguments.length?(u=t,null!=h&&(l=u(h)),n):u},n.context=function(t){return arguments.length?(null==t?h=l=null:l=u(h=t),n):h},n}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};
